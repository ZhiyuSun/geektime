# go语法

## go字符串

## if

## for

## goto

Go 语言的 goto 语句可以无条件地转移到过程中指定的行。
goto 语句通常与条件语句配合使用。可用来实现条件转移， 构成循环，跳出循环体等功能。
但是，在结构化程序设计中一般不主张使用 goto 语句， 以免造成程序流程的混乱，使理解和调试程序都产生困难。

## 数组和列表

Go 语言提供了数组类型的数据结构。 数组是具有相同唯一类型的一组已编号且长度固定的数据项序列，这种类型可以是任意的原始类型例如整形、字符串或者自定义类型。

在go语言中函数传递参数的时候，数组作为参数 实际调用的时候是值传递

## map

## 指针

## 函数

defer

## 错误和异常

错误和异常 错误就是可以预先知道的出错的可能，这个时候我们把这情况叫做错误， 不可预知的问题叫做异常
程序员写的代码不严谨造成的某个地方在某种情况下产生了异常

比如Django的get方法，我们必须通过文档来看到底是返回空list，还是异常

异常 go语言中如何抛出异常和如何捕捉异常
go语言认为错误就要自己处理， 就个人而言，go语言的这种想法是正确的。但是实际的使用中确实人有点烦人

## 面向对象

go语言不支持面向对象

对Python而言，如果只关心数据，用tuple更合适，tuple更省内存 性能更高
namedtuple很像是一个只能封装数据的类 但是namedtuple的性能比class高， 内存会比class小很多

go语言的struct更像是namedtuple, 尽量配置简单的语法尽量猜测你的意图

python里面，类属性加_代表变量是内部使用

大小写在go语言中的重要性 可见性
一个包中的变量或者结构体如果首字母是小写 那么对于另一个包不可见
机构体定义的 名称 以及属性首字母大写很重要

## 接口

go语言的接口（protol 协议）设计是参考了鸭子类型（python）和java的接口
什么是鸭子类型？ 什么叫协议
当看到一只鸟走起来像鸭子、游泳起来像鸭子、叫起来也像鸭子，那么这只鸟就可以被称为鸭子
采用的是面向对象的类继承

dog是不是动物类 实际上dog就是动物类 忽略了鸭子类型， 对于用惯面向对象的人来说呢 这个做法有点奇怪
python语言本身的设计上来讲是基于鸭子类型实现的
Animal实际上只是定义了一些方法的名称而已 其他的任何类只要实现了这个Animal里面的方法那你类就是Animal类型

for语句 可以对dict， list tuple set等等类型进行for循环
for语句可以对iterable类型进行操作 只要你实现了__iter__那你就可以进行for循环
你的类继承了什么不重要 你的类名称不重要 重要的是你实现了什么魔法方法

python本身是基于鸭子类型设计的一门语言 - 协议最重要
python靠的是方法名，协议，比如django的中间件
强调 什么是鸭子类型  非常推荐大家去好好的学习python中的魔法方法

通过Python的鸭子类型去学习go的接口

## 包管理和编码规范

包管理，异常处理，泛型被诟病很多

能用go modules就用modules,不用去考虑以前的开发模式
即使你使用了以前的模式，也可以自动设置为现在的modules模式

go modules是一个统一的做法

同一个包下面的文件，package要定成一样的

// 1. 新建项目的时候选择go modules
// 2. 新建一个包的时候，新建一个文件夹一般小写 这个文件夹下面的所有源码中的package都一样
// 3. import "PackageTest/calc" 实际上很多人会认为包名，实际上是包的路径
// 4. 同一个文件夹下面的package名称可以不和文件夹名称保持一致，但是这些源码中的package

## go编码规范

命名如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并可用的
大写字母开头可以被外部包的代码所使用

命名
- 文件名，下划线
- 结构体，驼峰
- 变量，驼峰，apiClient
- 布尔类型，开头以has,is,can,allow
- 常量命名，全部大写+下划线

注释
- 单行，多行
- godoc工具，自动生成文档
- 包注释
- 结构注释
- 方法注释，简要说明，参数列表，返回值
- 代码逻辑注释
- 注释风格，中英文之间空格，英文和中文标点之间空格

import规范
- 标准库包，程序内部包，第三方包

错误处理
- 不能丢弃任何有返回err的调用，不要使用_丢弃，必须全部处理。接收到错误，要么返回err，或者使用log记录下来
- 尽早return，一旦发生错误，马上返回
- 尽量不要使用panic，除非你知道你在做什么

