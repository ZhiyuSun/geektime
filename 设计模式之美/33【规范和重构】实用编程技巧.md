### 把代码分割成更小的单元块

大部分人阅读代码的习惯都是，先看整体再看细节。

所以，我们要有模块化和抽象思维，善于将大块的复杂逻辑提炼成类或者函数，屏蔽掉细节，让阅读代码的人不至于迷失在细节中，这样能极大地提高代码的可读性。

### 避免函数参数过多

- 考虑函数是否职责单一，是否能通过拆分成多个函数的方式来减少参数。
- 将函数的参数封装成对象。除此之外，如果函数是对外暴露的远程接口，将参数封装成对象，还可以提高接口的兼容性。在往接口中添加新的参数的时候，老的远程接口调用者有可能就不需要修改代码来兼容新的接口了。

### 勿用函数参数来控制逻辑

不要在函数中使用布尔类型的标识参数来控制内部逻辑，true 的时候走这块逻辑，false 的时候走另一块逻辑。这明显违背了单一职责原则和接口隔离原则。

### 函数设计要职责单一

对于函数的设计来说，更要满足单一职责原则。相对于类和模块，函数的粒度比较小，代码行数少，所以在应用单一职责原则的时候，没有像应用到类或者模块那样模棱两可，能多单一就多单一。

### 移除过深的嵌套层次

- 去掉多余的 if 或 else 语句
- 使用编程语言提供的 continue、break、return 关键字，提前退出嵌套。
- 调整执行顺序来减少嵌套。
- 将部分嵌套逻辑封装成函数调用，以此来减少嵌套。

### 学会使用解释性变量

- 常量取代魔法数字。
- 使用解释性变量来解释复杂表达式。

### 重点总结

1. 关于命名

   命名的关键是能准确达意。对于不同作用域的命名，我们可以适当地选择不同的长度。

   我们可以借助类的信息来简化属性、函数的命名，利用函数的信息来简化函数参数的命名。

   命名要可读、可搜索。不要使用生僻的、不好读的英文单词来命名。命名要符合项目的统一规范，也不要用些反直觉的命名。

   接口有两种命名方式：一种是在接口中带前缀“I”；另一种是在接口的实现类中带后缀“Impl”。对于抽象类的命名，也有两种方式，一种是带上前缀“Abstract”，一种是不带前缀。这两种命名方式都可以，关键是要在项目中统一。

2. 关于注释

   注释的内容主要包含这样三个方面：做什么、为什么、怎么做。对于一些复杂的类和接口，我们可能还需要写明“如何用”。

   类和函数一定要写注释，而且要写得尽可能全面详细。函数内部的注释要相对少一些，一般都是靠好的命名、提炼函数、解释性变量、总结性注释来提高代码可读性。

3. 关于代码风格

   函数、类多大才合适？函数的代码行数不要超过一屏幕的大小，比如 50 行。类的大小限制比较难确定。

   一行代码多长最合适？最好不要超过 IDE 的显示宽度。当然，也不能太小，否则会导致很多稍微长点的语句被折成两行，也会影响到代码的整洁，不利于阅读。

   善用空行分割单元块。对于比较长的函数，为了让逻辑更加清晰，可以使用空行来分割各个代码块。

   四格缩进还是两格缩进？我个人比较推荐使用两格缩进，这样可以节省空间，尤其是在代码嵌套层次比较深的情况下。不管是用两格缩进还是四格缩进，一定不要用 tab 键缩进。

   大括号是否要另起一行？将大括号放到跟上一条语句同一行，可以节省代码行数。但是将大括号另起新的一行的方式，左右括号可以垂直对齐，哪些代码属于哪一个代码块，更加一目了然。

   类中成员怎么排列？在 Google Java 编程规范中，依赖类按照字母序从小到大排列。类中先写成员变量后写函数。成员变量之间或函数之间，先写静态成员变量或函数，后写普通变量或函数，并且按照作用域大小依次排列。

4. 关于编码技巧

   将复杂的逻辑提炼拆分成函数和类。

   通过拆分成多个函数或将参数封装为对象的方式，来处理参数过多的情况。

   函数中不要使用参数来做代码执行逻辑的控制。

   函数设计要职责单一。

   移除过深的嵌套层次，方法包括：去掉多余的 if 或 else 语句，使用 continue、break、return 关键字提前退出嵌套，调整执行顺序来减少嵌套，将部分嵌套逻辑抽象成函数。

   用字面常量取代魔法数。

   用解释性变量来解释复杂表达式，以此提高代码可读性。

5. 统一编码规范

   除了这三节讲到的比较细节的知识点之外，最后，还有一条非常重要的，那就是，项目、团队，甚至公司，一定要制定统一的编码规范，并且通过 Code Review 督促执行，这对提高代码质量有立竿见影的效果。