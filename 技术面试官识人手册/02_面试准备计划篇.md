# 面试准备/计划篇

## 01 | 高屋建瓴、运筹帷幄——从初衷到体系

我觉得，这依然不正确。相较于“牛人”，团队更需要的是“合适的人”。

先从技术角度来说。理想的团队，技术层面上是需要在一定程度上互补的。比方说，在一个全栈的团队中，有的成员擅长系统底层，有的擅长 Web 应用；有的系统思维严谨，有的产品直觉敏锐，那么无论在系统设计还是在问题定位的时候，团队的决策就可以因为取长补短而达到一定的平衡。

再从非技术角度来说。即便在技术层面候选人已经无可挑剔，我们都还有很多非技术因素需要考虑；即便在个人的非技术层面已经无可指摘，我们依然需要考虑候选人和团队风格的契合程度。

一家公司也好，一个团队也好，有经验的工程师和有潜力的工程师，需要在构成上达成一定的平衡。

有的团队相对技术成熟，架构稳定，流程确凿，而有经验的工程师可以有一定的时间来指导和帮助新人成长，团队可以培养自己的骨干，那么这样的候选人可以说是再好不过了。

而有的团队则相反，特别是某些创业团队，或是产品初创团队，每个人都要挑大梁，甚至大家都忙于救火，那么这种情况就特别需要自我管理能力强、综合素质和经验皆备的老兵，这时这样的候选人就不适合。

### 共通部分

共通部分，说白了，就是对于一名优秀的软件工程师普遍的、客观的理解。

### 技术层面

技术层面上，我们要考察软件工程师的基础技能。包括：实际问题解决能力，代码设计和实现能力，系统分析设计能力，测试和验证的能力。

首先是关于实际问题解决能力，工程师毕竟是要做工程的，做工程的目的就是要解决实际问题。

1.把具体问题抽象成若干个可解决的软件问题；
2.使用软件工程的知识与技能去解决这些问题。

其次是代码设计和实现能力，这是软件工程师的基础技能，就如同厨师切菜和钢琴师读谱一样，都是看家本领，技术面试要花相当比例的时间来验证这一点。

再次是系统分析和设计能力，包括是否能够针对问题给出合理的系统估算、架构设计等等。这一部分是和经验密切挂钩的。

需要强调的是，这里说的“系统”是泛指的“软件系统”，而不是“分布式系统”。
这么强调是因为我觉得，如今的互联网的浪潮，给技术人也带来了一些不太好的影响，比如过度追捧“分布式”这样的热门词汇。仿佛谈及系统，就是大数据、海量、高吞吐，一些简单的系统都不太瞧得上了，我觉得这是很不妥的。
对于系统的理解，就如同数学的基础是初等算术一样，还是要把根基打扎实。

剩下的共通的技术层面的部分，我觉得可以叫做“其它综合工程能力”，比如测试与验证的能力等等。

### 非技术层面

那我们就再来说说非技术层面。我们关注工程师的基础品格、团队合作能力、学习能力、沟通能力，以及任务管理能力等等。

对于踏入职场不久的工程师，要更关注潜力相关的素质，比如是否能够听从建议并加以思考，以及是否具备兴趣与热情，因为这是学不到的东西。

而对于有丰富经验的工程师，要更关注视野，技术理解的深度，以及职业素养。

### 特殊部分

但请注意，这里面也蕴含了一个简单的道理，一个面试中在“共通”部分表现优秀的软件工程师，更可能就是一个通常意义上的优秀的软件工程师，那么就算他并不立即具备特定职位的某项技能，但是经过较短时间的学习和融入，他也很可能可以很快地胜任这个职位。

在前文中，我已经提到，对于任何一个公司和团队来说，都不是要招“牛人”，而是要招“合适的人”，我们大的目标是和候选人一起共赢，而不是单纯的劳动性价比。

## 02 | 不打无准备之仗——确定人选，制定计划

## 03 | 提前规划、斟酌再三——设计合适的技术问题（上）

### 糟糕的技术问题

#### 知识性问题

这一类问题，我们简单地称其为“知识性问题”，在技术面试中，我们通常就应该避免。因为一方面它不具备普适性，另一方面它又具备太强的随机性。

不具备普适性，指的是候选人必须要了解特定的框架或者库，考虑到优秀的候选人的知识背景有所区别，所以这一要求过于武断；而太强的随机性，指的是候选人是否知道这一个知识点，随机性太强，而并不能反映候选人的技能水准。

另外，有一些问题并不像上面的例子那么直接，但是本质上有类似性。特定编程语言、框架和库限定下的问题就是其中之一

#### 过于常见的问题

相反，我们恰恰就是要通过“新”问题考察候选人的“旧”能力。这就是为什么我们说，问题是多变的，但套路是永恒的。

因为这些套路恰恰就是，软件工程师得以在问题的千变万化中，依然能够游刃有余地分析和解决它们的原因。比方说，URL 短网址系统的设计问题都被考烂了，但是背后的系统设计的考察要素，比如对于网络协议的理解、系统容量的估计、存储技术的选型等等，都是非常好的具体考察点。

#### 规则过于复杂的问题

需要说明的是，复杂问题的简化途径，和考察项是密切相关的。

### 技术问题的设计原则

#### 和考察角度、考察重点保持一致

举个例子，某面试官要对候选人进行面试考察，重点是“实际问题的解决以及对系统的理解”。于是，他决定使用一个“网约车系统的设计”问题来作为主要问题，在面试中和候选人一起讨论。

#### 从模糊到清晰，从实际到抽象

因此，我们希望和候选人一起，做出这样一个将问题从模糊到清晰，从实际到抽象的转化过程，以系统设计的考察路径为例：
- 根据模糊的表述，明确我们要解决的核心问题是什么？网约车系统那么大，解决问题中，哪一类问题是我们最关注的。
- 根据我们明确了的最关注的问题，列出相关的功能需求和非功能需求。需求可能包含很多，我们的目标是从中确定在面试时间内关心的部分。
- 根据需求进行系统设计，包括从客户端、网络、service 到存储等等各层，有了大致的方案以后，我们的目标是从中筛选出我们最关心的一小部分展开讨论。
- 如果还要考察代码层面，那么就从上述的设计中选取某一个组件，某一个机制，讨论代码层面的设计。
- 根据代码层面的设计，择要实现，比如可以要求实现核心逻辑，核心数据结构等等。

从中你可以看出，整个思路是这样的：问题 > 需求 > 系统设计 > 代码设计 > 代码实现

这不就是一个做迷你项目开发的过程吗？没错！虽然说，为了可操作性，每前进一步，都会缩小范围，纵深地考察候选人不同层次的技能。

#### 不止一个考察角度，不止一个解

### 总结与思考

我的建议是，越是软件经验丰富的候选人，我们就越可以给一个较为模糊的问题，尽量让他来主导这个分解和细化的过程；而对于校招生，我们则可以给一个相对清晰具体的需求。当然，在这个过程中，如果发现难度过高，我们可以积极地给出提示，或者帮助他完成部分过程，这都是在合理范围内的。

## 04 | 问题设计（下）：五个技巧助攻技术问题设计

### 技术问题的设计技巧

#### 从熟悉的领域设计问题

#### 由浅入深，分层展开

我们可以从核心用例的角度来思考，想想都有什么角色，可以通过该系统完成什么功能。

在功能需求明确以后，进入设计步骤前，我们还需要讨论确定几项重要的非功能需求。

比如用户量有多少、每日的请求数有多少等等。这些数值不需要多么精准，但是数值的数量级会影响到系统的设计。

在有了一个大体可行的系统设计后，从中选出一层、一个组件，或是一个机制，进一步细化展开。

#### 设定“踮踮脚能够到”的最高难度

一句话，通过暗示也好，明推也好，不断深入并击破难度递增的每一层问题挑战，并且最理想的效果，是最终这个迷你项目的最高难度，恰恰是候选人“踮踮脚能够到”的难度，既不会过度简单，又不会难不可达。

#### 持续收集数据，调整你的问题

#### 拓宽广度，给问题设置多角度延伸

#### 平衡考察的深度和广度

如果我们总是能把技术考察，从一个简略、模糊的实际问题开始，逐步深入，到最后以一个完整的问题解决过程收尾，那么几乎就可以说，我们就做到了深度和广度的兼顾。

## 答疑课堂01：面试计划篇热点问题解答

### 问题 3：怎样看待系统估算类问题？

已知 Twitter 2020 年大约有 2000 亿的推文（tweets），如果你来设计 Twitter 系统，请问发推服务的吞吐量需要多少，网络带宽要占用多大，要存储它们需要多少磁盘容量？

- 吞吐量，一般可以估算 TPS（Transaction Per Second），2000 亿 / 365 天 / 24 小时 / 60 分 / 60 秒，大概是 6000 左右，那么考虑 TPS 的波动性，我们简单预留 3 倍的空间，认为系统的 TPS 需要预留到 20000 左右，就大致可行了。
- 网络带宽，我们假设平均每条推文 200 个字符，众所周知每个字符占用 2 个字节（B，Byte），每个字节为 8 个比特（b，bit），我们在这里统一使用 Byte，而不是 bit（这里说明一下，你的网络运营商为了数据好看，可能会用比特每秒，而不是字节每秒宣传它的带宽）。这样每条推文就占用了 200 * 2 = 400 Byte，因此带宽就是 400 Byte * 20000 吞吐量 = 8 MB 的带宽。这里其实从 B 到 MB 应该使用 1/1024 的倍率，但是估算就使用了近似的 1/1000 的倍率。
- 存储，2000 亿推文 * 200 个字符 * 2 Byte = 80 TB 一年。

对于系统估算类问题，最重要的是过程要符合逻辑，而估算的最后结果并不是最重要的。